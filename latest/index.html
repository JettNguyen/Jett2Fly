<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Jett2Fly - Latest Releases</title>
    <link rel="icon" href="../images/jett2fly logo.png" type="image/x-icon" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="../style.css">
    <style>
      body {
        background: 
          linear-gradient(45deg, #0a0a0a 0%, #1a1a1a 25%, #0a0a0a 50%, #1a1a1a 75%, #0a0a0a 100%),
          radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.05) 0%, transparent 50%),
          radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.03) 0%, transparent 50%),
          radial-gradient(circle at 50% 50%, rgba(0, 0, 0, 0.8) 0%, transparent 100%),
          conic-gradient(from 0deg at 50% 50%, rgba(255, 255, 255, 0.01) 0deg, transparent 90deg, rgba(255, 255, 255, 0.01) 180deg, transparent 270deg);
        background-attachment: fixed;
      }
      /* Particle Styles */
      .floating-particles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1001;
      }
      .particle {
        position: absolute;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.6);
        box-shadow: 0 0 6px rgba(255, 255, 255, 0.3);
      }
      @keyframes float {
        0% { transform: translateY(0px) translateX(0px) rotate(0deg); }
        25% { transform: translateY(-15px) translateX(10px) rotate(90deg); }
        50% { transform: translateY(-30px) translateX(-5px) rotate(180deg); }
        75% { transform: translateY(-15px) translateX(-10px) rotate(270deg); }
        100% { transform: translateY(0px) translateX(0px) rotate(360deg); }
      }
      .content { padding: 28px 20px 120px; max-width:1100px; margin: 0 auto; }
      .stats-section { display:flex; gap:1rem; justify-content:center; margin-bottom:18px; flex-wrap:wrap; }
      .stat-card { background:var(--card-bg); padding:12px 18px; border-radius:10px; box-shadow:var(--card-shadow); text-align:center; min-width:120px; }
      .stat-number { font-weight:700; font-size:1.4rem; }
      .stat-label { font-size:0.85rem; color:var(--muted); }
      .filter-bar { display:flex; gap:0.75rem; justify-content:center; margin-bottom:20px; flex-wrap:wrap; align-items:center; }
      .filter-bar label { font-size:0.9rem; color:var(--muted); }
      .year-header { 
        font-size:1.25rem; 
        font-weight:700; 
        color:var(--primary-color); 
        margin:18px 0 8px; 
        text-align:center; 
        background:var(--card-bg); 
        padding:15px 30px; 
        border-radius:12px; 
        box-shadow:var(--card-shadow); 
        width:100%; 
        margin:20px 0 12px; 
        z-index: 99999999; 
        position: sticky; 
        top: 90px; 
        background: rgba(39, 39, 39, 0.85);
      }
      .releases-grid { display:flex; flex-wrap:wrap; padding: 20px 20px; gap:20px; justify-content:center;}
      .release-card img{ width:100%; height:auto; display:block; border-radius:6px 6px 0 0; }
      .release-card{ flex: 0 0 280px; display:block; background:var(--card-bg); padding:0; border-radius:8px; overflow:hidden; box-shadow:var(--card-shadow); text-decoration:none; color:inherit; transition:box-shadow .18s ease, transform .18s ease;}
      .release-card:hover {
    box-shadow: 0 0 20px 5px rgb(80, 80, 80), 0 0 0 3px rgb(0, 0, 0);
    border-color: rgb(0, 0, 0);
    transform: scale(1.04);
}
      .release-info{ padding:12px; }
      .release-title{ font-weight:600; margin-bottom:6px; }
      .release-date{ font-size:0.9rem; color:var(--muted); }
      @media (max-width:520px){ .stats-section{ gap:.6rem; } .stat-card{ min-width:90px; padding:10px 12px; } }

      body {
        background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
        background-attachment: fixed;
        color: var(--text-primary);
        font-family: 'Inter', sans-serif;
        margin: 0;
        padding: 0;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        overflow-x: hidden;
        --light-angle-x: 50%;
        --light-angle-y: 50%;
      }

      body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at var(--light-angle-x) var(--light-angle-y), rgba(255, 255, 255, 0.1), transparent);
        z-index: -1;
        pointer-events: none;
      }
    </style>
  </head>
  <body>
    <div class="nav-container">
      <div class="logo-container">
        <a href="/" class="logo-link"><img src="../images/jett2fly logo.png" alt="logo" class="logo"></a>
      </div>
      <nav class="main-nav">
        <a href="/">Home</a>
        <a href="/latest" class="active">Latest</a>
        <a href="/credits">Prod. Credits</a>
        <a href="/videos">Videos</a>
      </nav>
    </div>

    <div id="background-layer">
      <div class="floating-particles">
      </div>
    </div>

    <main class="content" role="main">
      <h1 class="page-title">Latest Releases</h1>

      <div class="stats-section">
        <div class="stat-card"><div class="stat-number" id="releases-count">0</div><div class="stat-label">Releases</div></div>
        <div class="stat-card"><div class="stat-number" id="albums-count">0</div><div class="stat-label">Albums</div></div>
        <div class="stat-card"><div class="stat-number" id="songs-count">0</div><div class="stat-label">Songs</div></div>
        <div class="stat-card"><div class="stat-number" id="years-active">0</div><div class="stat-label">Years Active</div></div>
      </div>

      <div class="filter-bar" role="region" aria-label="Filters">
        <label for="year-filter">Year:</label>
        <select id="year-filter"><option value="all">All</option></select>
        <label for="type-filter">Type:</label>
        <select id="type-filter"><option value="all">All</option><option>Single</option><option>Album</option><option>EP</option><option>Mixtape</option></select>
      </div>

      <div id="releases-structured" aria-live="polite"></div>
    </main>

    <script>
      let releases = [];

      async function loadReleases(){
        try {
          const resp = await fetch('releases.json?ts=' + Date.now());
          if(!resp.ok) throw new Error('HTTP '+resp.status);
          releases = await resp.json();
          console.log('Loaded releases.json â€” items:', releases.length);
        }
        catch(err) {
          console.warn('Could not load releases.json, falling back to inline data', err);
          //fallback
          releases = [
            {
              "title": "Flame",
              "type": "Single",
              "date": "2025-11-14",
              "cover": "flame.jpeg",
              "link": "https://distrokid.com/hyperfollow/sywavy/flame",
              "songs": 1
            },
            {
              "title": "Wavy Deagle",
              "type": "Single",
              "date": "2025-07-25",
              "cover": "cover deagle.png",
              "link": "https://distrokid.com/hyperfollow/sywavy/wavy-deagle",
              "songs": 1
            },
            {
              "title": "Put It On!",
              "type": "Single",
              "date": "2025-05-09",
              "cover": "cover.png",
              "link": "https://distrokid.com/hyperfollow/sywavy/put-it-on-feat-the-part-time-models",
              "songs": 1
            },
            {
              "title": "Awtside",
              "type": "Single",
              "date": "2025-04-04",
              "cover": "awtside-min.png",
              "link": "https://distrokid.com/hyperfollow/sywavy/awtside",
              "songs": 1
            },
            {
              "title": "Imma Floridian",
              "type": "Single",
              "date": "2025-02-28",
              "cover": "furnish cover 4 exp.png",
              "link": "https://distrokid.com/hyperfollow/sywavy/imma-floridian",
              "songs": 1
            },
            {
              "title": "Flight 370",
              "type": "Album",
              "date": "2024-11-29",
              "cover": "IMG_2743.jpeg",
              "link": "https://distrokid.com/hyperfollow/sywavy/flight-370",
              "songs": 12
            },
            {
              "title": "Gentleman From Da South",
              "type": "EP",
              "date": "2024-06-21",
              "cover": "gfds.jpg",
              "link": "https://distrokid.com/hyperfollow/sywavy/gentleman-from-da-south",
              "songs": 3
            },
            {
              "title": "Deep Voice Bastards",
              "type": "Mixtape",
              "date": "2023-12-22",
              "cover": "cover 2.png",
              "link": "https://distrokid.com/hyperfollow/sywavy/deep-voice-bastards",
              "songs": 10
            },
            {
              "title": "Alchemy",
              "type": "Album",
              "date": "2023-05-26",
              "cover": "alchemy.jpg",
              "link": "https://distrokid.com/hyperfollow/kkilla11/alchemy",
              "songs": 13
            },
            {
              "title": "Wavy Life",
              "type": "Album",
              "date": "2023-03-17",
              "cover": "wl.jpg",
              "link": "https://distrokid.com/hyperfollow/sywavy/wavy-life",
              "songs": 12
            },
            {
              "title": "The",
              "type": "EP",
              "date": "2022-10-12",
              "cover": "the.jpg",
              "link": "https://distrokid.com/hyperfollow/sywavy/the",
              "songs": 2
            },
            {
              "title": "High Speed",
              "type": "Single",
              "date": "2022-07-15",
              "cover": "high.jpg",
              "link": "https://distrokid.com/hyperfollow/sywavy/high-speed",
              "songs": 1
            },
            {
              "title": "Japanese Cherry Blossom",
              "type": "Album",
              "date": "2022-04-15",
              "cover": "IMG_5893.jpg",
              "link": "https://distrokid.com/hyperfollow/sywavy/japanese-cherry-blossom-2",
              "songs": 15
            },
            {
              "title": "Night Glow",
              "type": "Single",
              "date": "2021-11-26",
              "cover": "night.jpg",
              "link": "https://distrokid.com/hyperfollow/sywavy/night-glow",
              "songs": 1
            },
            {
              "title": "Life Is Verses",
              "type": "EP",
              "date": "2021-09-24",
              "cover": "LIV.jpg",
              "link": "https://distrokid.com/hyperfollow/sywavy/life-is-verses",
              "songs": 6
            },
            {
              "title": "Olympian",
              "type": "Single",
              "date": "2021-07-02",
              "cover": "olym.jpg",
              "link": "https://distrokid.com/hyperfollow/sywavy/olympian",
              "songs": 1
            },
            {
              "title": "Hurts to Heal",
              "type": "EP",
              "date": "2021-04-09",
              "cover": "phonto (2).JPG",
              "link": "https://distrokid.com/hyperfollow/sywavy/hurts-to-heal",
              "songs": 4
            },
            {
              "title": "Why Me?",
              "type": "EP",
              "date": "2021-01-15",
              "cover": "whyme.jpg",
              "link": "https://distrokid.com/hyperfollow/sywavy/why-me",
              "songs": 3
            },
            {
              "title": "Family Ties",
              "type": "Single",
              "date": "2020-12-09",
              "cover": "fam.jpg",
              "link": "https://distrokid.com/hyperfollow/sywavy/family-ties-3",
              "songs": 1
            },
            {
              "title": "14th",
              "type": "Single",
              "date": "2020-11-14",
              "cover": "14th.jpg",
              "link": "https://distrokid.com/hyperfollow/sywavy/14th",
              "songs": 1
            },
            {
              "title": "Red Lights",
              "type": "Single",
              "date": "2020-09-19",
              "cover": "red.jpg",
              "link": "https://distrokid.com/hyperfollow/sywavy/red-lights-2",
              "songs": 1
            },
            {
              "title": "Saturn",
              "type": "EP",
              "date": "2020-08-14",
              "cover": "sat.jpg",
              "link": "https://distrokid.com/hyperfollow/sywavy/saturn",
              "songs": 2
            },
            {
              "title": "Ear Candi",
              "type": "EP",
              "date": "2020-06-27",
              "cover": "ear.jpg",
              "link": "https://distrokid.com/hyperfollow/sywavy/ear-candi",
              "songs": 5
            },
            {
              "title": "Keys",
              "type": "Single",
              "date": "2020-03-28",
              "cover": "keys.jpg",
              "link": "https://distrokid.com/hyperfollow/sywavy/keys",
              "songs": 1
            }
          ];
        }

        populateFilters();
        renderReleases();

        const yearSel = document.getElementById('year-filter');
        const typeSel = document.getElementById('type-filter');
        yearSel.addEventListener('change', e => renderReleases(e.target.value, typeSel.value));
        typeSel.addEventListener('change', e => renderReleases(yearSel.value, e.target.value));

        const total = releases.length;
        const albums = releases.filter(r => r.type === 'Album').length;
        const totalSongs = releases.reduce((sum, r) => sum + (r.songs || 1), 0);
        const yearsArr = releases.map(r => parseInt(r.date.slice(0,4),10));
        const earliest = yearsArr.length ? Math.min(...yearsArr) : new Date().getFullYear();
        const yearsActive = new Date().getFullYear() - earliest + 1;
        setTimeout(()=>animateCounter(document.getElementById('releases-count'), total), 200);
        setTimeout(()=>animateCounter(document.getElementById('albums-count'), albums), 400);
        setTimeout(()=>animateCounter(document.getElementById('songs-count'), totalSongs), 600);
        setTimeout(()=>animateCounter(document.getElementById('years-active'), yearsActive), 800);
      }

      function formatDate(d){ const dt = new Date(d); return dt.toLocaleDateString(undefined,{month:'short',day:'numeric',year:'numeric'}); }

      function renderReleases(year='all', type='all'){
        const out = document.getElementById('releases-structured'); out.innerHTML = '';
        const grouped = releases.reduce((acc, r) => { const y = r.date.slice(0,4); (acc[y] = acc[y] || []).push(r); return acc; }, {});
        Object.keys(grouped).sort((a,b)=>b-a).forEach(y=>{
          if(year !== 'all' && y !== year) return;
          const sec = document.createElement('section');
          const h = document.createElement('div'); h.className = 'year-header'; h.textContent = y; sec.appendChild(h);
          const g = document.createElement('div'); g.className = 'releases-grid';
          grouped[y].forEach(r=>{
            if(type !== 'all' && r.type !== type) return;
            const a = document.createElement('a');
            a.className='release-card';
            a.href = r.link || '#';
            a.target = '_blank';
            a.rel = 'noopener noreferrer';
            a.innerHTML = `<img loading="lazy" src="../images/${r.cover}" alt="${r.title}"><div class="release-info"><div class="release-title">${r.title} <span class="kind-text">(${r.type})</span></div><div class="release-date">Released: ${formatDate(r.date)}</div></div>`;
            g.appendChild(a);
          });
          sec.appendChild(g); out.appendChild(sec);
        });
      }

      function populateFilters(){
        const years = [...new Set(releases.map(r=>r.date.slice(0,4)))].sort((a,b)=>b-a);
        const sel = document.getElementById('year-filter'); sel.innerHTML = '<option value="all">All</option>';
        years.forEach(y=>{ const o = document.createElement('option'); o.value = y; o.textContent = y; sel.appendChild(o); });
      }

      function animateCounter(el, target, duration = 900){
        if(!el) return; const start = 0; const startTime = performance.now();
        function tick(now){ const t = Math.min((now - startTime) / duration, 1); el.textContent = Math.floor(start + (target - start) * t); if(t < 1) requestAnimationFrame(tick); else el.textContent = target; }
        requestAnimationFrame(tick);
      }

      document.addEventListener('DOMContentLoaded', ()=>{ 
        loadReleases(); 
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const particleContainer = document.querySelector(".floating-particles");
        const layers = 3;
        const particleCount = 20;

        for (let layer = 0; layer < layers; layer++) {
          for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement("div");
            particle.classList.add("particle", `layer-${layer}`);

            const size = Math.random() * 10 + 5 * (1 + layer * 0.5);
            const top = Math.random() * 95;
            const left = Math.random() * 95;
            const duration = Math.random() * 5 + 5 * (1 + layer * 0.5);
            const opacity = Math.random() * 0.3 + 0.2 * (1 - layer * 0.3);

            particle.style.width = `${size}px`;
            particle.style.height = `${size}px`;
            particle.style.top = `${top}%`;
            particle.style.left = `${left}%`;
            particle.style.animation = `float ${duration}s ease-in-out infinite alternate`;
            particle.style.opacity = opacity;

            particleContainer.appendChild(particle);
          }
        }
      });
    </script>
  </body>
</html>
